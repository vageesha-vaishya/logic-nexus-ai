import{j as e}from"./jsx-runtime-DF2Pcvd1.js";import{r as j,R as Q}from"./index-B2-qRKKC.js";import{B as o}from"./button-Cpm3eO9b.js";import{I as J}from"./input-DQrLB-hL.js";import{D as K,a as P,E as W,b as X,c as v}from"./dropdown-menu-BzCYYBU3.js";import{C as Y,d as $}from"./card-DDgMyP-I.js";import{B as N}from"./badge-BlxpgidI.js";import{S as ee}from"./scroll-area-BZ8Y1bzI.js";import{c as se}from"./utils-CytzSlOG.js";import{S as ae}from"./search-BWHVy4X8.js";import{c as t}from"./createLucideIcon-DapQ2WKf.js";import{T as w}from"./trash-2-D86ef2fH.js";import{F as te}from"./file-text-DWtP77Hy.js";import{f as k}from"./format-C2JJGG0e.js";import{c as re,a as ie}from"./mock-data-DBb6LiQI.js";import{S as ne}from"./skeleton-table-CJFt9Koo.js";import{E as oe,e as ce}from"./empty-state-bzU-iTlr.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./index-Bh3JKd2m.js";import"./index-DW48STyt.js";import"./index-DRfMV7qj.js";import"./index-DK19BPjP.js";import"./index-BmZbFD_3.js";import"./index-CFX93qP1.js";import"./index-Z75IbNXa.js";import"./index-CGh0mKBy.js";import"./Combination-uNsERWH7.js";import"./index-ciuW_uyV.js";import"./index-Bz0SC8DB.js";import"./index-BVTljfQg.js";import"./index-ekFeoJ-_.js";import"./chevron-right-Bf89TUQQ.js";import"./differenceInCalendarDays-Doit9xz1.js";import"./subDays-CJp_3fXz.js";import"./skeleton-BeHfpXA5.js";import"./table-Cv58sP-0.js";import"./chevrons-up-down-DLg14hCS.js";import"./circle-alert--OSf2GYc.js";import"./plus-B4oY7sqh.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=t("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=t("FileImage",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=t("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=t("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=t("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=t("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=t("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),b=r=>{const a=r.toLowerCase();return a.includes("pdf")?e.jsx(te,{className:"h-8 w-8 text-red-500"}):a.includes("sheet")||a.includes("xls")||a.includes("csv")?e.jsx(le,{className:"h-8 w-8 text-green-500"}):a.includes("image")||a.includes("png")||a.includes("jpg")?e.jsx(de,{className:"h-8 w-8 text-blue-500"}):e.jsx(B,{className:"h-8 w-8 text-slate-500"})};function y({documents:r,onUpload:a,onDownload:i,onDelete:n,className:G}){const[u,f]=j.useState("grid"),[x,Z]=j.useState(""),g=r.filter(s=>{var c;return s.name.toLowerCase().includes(x.toLowerCase())||((c=s.tags)==null?void 0:c.some(O=>O.toLowerCase().includes(x.toLowerCase())))});return e.jsxs("div",{className:se("flex flex-col h-full space-y-4",G),children:[e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"relative flex-1 max-w-sm",children:[e.jsx(ae,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(J,{placeholder:"Search documents...",className:"pl-9",value:x,onChange:s=>Z(s.target.value)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center border rounded-md p-1 bg-muted/20",children:[e.jsx(o,{variant:u==="grid"?"secondary":"ghost",size:"icon",className:"h-7 w-7",onClick:()=>f("grid"),"aria-label":"Grid view",children:e.jsx(me,{className:"h-4 w-4"})}),e.jsx(o,{variant:u==="list"?"secondary":"ghost",size:"icon",className:"h-7 w-7",onClick:()=>f("list"),"aria-label":"List view",children:e.jsx(pe,{className:"h-4 w-4"})})]}),e.jsxs(o,{onClick:a,children:[e.jsx(he,{className:"mr-2 h-4 w-4"}),"Upload"]})]})]}),e.jsx(ee,{className:"flex-1 min-h-[400px] border rounded-lg bg-slate-50/50 p-4",children:g.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-[300px] text-muted-foreground",children:[e.jsx(B,{className:"h-12 w-12 mb-4 opacity-20"}),e.jsx("p",{children:"No documents found"})]}):u==="grid"?e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:g.map(s=>e.jsx(Y,{className:"group hover:shadow-md transition-shadow cursor-pointer",children:e.jsxs($,{className:"p-4 flex flex-col items-center text-center space-y-3 relative",children:[e.jsx("div",{className:"absolute right-2 top-2 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsxs(K,{children:[e.jsx(P,{asChild:!0,children:e.jsx(o,{variant:"ghost",size:"icon",className:"h-6 w-6","aria-label":"Open menu",children:e.jsx(W,{className:"h-3 w-3"})})}),e.jsxs(X,{align:"end",children:[e.jsxs(v,{onClick:()=>i==null?void 0:i(s),children:[e.jsx(M,{className:"mr-2 h-4 w-4"})," Download"]}),e.jsxs(v,{onClick:()=>n==null?void 0:n(s),className:"text-red-600",children:[e.jsx(w,{className:"mr-2 h-4 w-4"})," Delete"]})]})]})}),e.jsx("div",{className:"p-3 bg-slate-50 rounded-xl mt-2",children:b(s.type)}),e.jsxs("div",{className:"w-full",children:[e.jsx("h3",{className:"font-medium text-sm truncate",title:s.name,children:s.name}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[s.size," • ",k(new Date(s.uploaded_at),"MMM d")]})]}),s.tags&&e.jsxs("div",{className:"flex flex-wrap justify-center gap-1 w-full",children:[s.tags.slice(0,2).map(c=>e.jsx(N,{variant:"secondary",className:"text-[10px] h-5 px-1.5",children:c},c)),s.tags.length>2&&e.jsxs(N,{variant:"secondary",className:"text-[10px] h-5 px-1.5",children:["+",s.tags.length-2]})]})]})},s.id))}):e.jsx("div",{className:"space-y-2",children:g.map(s=>e.jsxs("div",{className:"flex items-center gap-4 p-3 bg-white rounded-lg border hover:border-slate-300 transition-colors group",children:[e.jsx("div",{className:"p-2 bg-slate-50 rounded-lg",children:Q.cloneElement(b(s.type),{className:"h-5 w-5"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-medium text-sm truncate",children:s.name}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[e.jsx("span",{children:s.size}),e.jsx("span",{children:"•"}),e.jsxs("span",{children:["Uploaded by ",s.uploaded_by.name]})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"text-xs text-muted-foreground w-24 text-right",children:k(new Date(s.uploaded_at),"MMM d, yyyy")}),e.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx(o,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>i==null?void 0:i(s),"aria-label":"Download",children:e.jsx(M,{className:"h-4 w-4"})}),e.jsx(o,{variant:"ghost",size:"icon",className:"h-8 w-8 text-red-600",onClick:()=>n==null?void 0:n(s),"aria-label":"Delete",children:e.jsx(w,{className:"h-4 w-4"})})]})]})]},s.id))})})]})}y.__docgenInfo={description:"",methods:[],displayName:"DocumentRepository",props:{documents:{required:!0,tsType:{name:"Array",elements:[{name:"Document"}],raw:"Document[]"},description:""},onUpload:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onDownload:{required:!1,tsType:{name:"signature",type:"function",raw:"(doc: Document) => void",signature:{arguments:[{type:{name:"Document"},name:"doc"}],return:{name:"void"}}},description:""},onDelete:{required:!1,tsType:{name:"signature",type:"function",raw:"(doc: Document) => void",signature:{arguments:[{type:{name:"Document"},name:"doc"}],return:{name:"void"}}},description:""},className:{required:!1,tsType:{name:"string"},description:""}}};const $e={title:"CRM/DocumentRepository",component:y,parameters:{layout:"padded",docs:{description:{component:"A file management component supporting grid/list views, searching, and filtering. Ideal for managing lead-specific documents like contracts and proposals."}}},tags:["autodocs"],argTypes:{onUpload:{action:"upload"},onDownload:{action:"download"},onDelete:{action:"delete"}}},A=re.map(r=>({...r,uploaded_by:ie[0],url:"#",tags:r.type==="pdf"?["Contract","Important"]:["Reference"]})),d={args:{documents:A,className:"h-[600px]"}},l={args:{documents:[],className:"h-[600px]"}},m={render:()=>e.jsx("div",{className:"h-[600px] p-6",children:e.jsx(ne,{count:6})})},p={render:()=>e.jsx("div",{className:"h-[600px] p-6",children:e.jsx(oe,{...ce.error("Failed to load documents")})})},h={render:()=>e.jsx("div",{dir:"rtl",className:"h-[600px] p-6",children:e.jsx(y,{documents:A})}),parameters:{test:{disable:!0}}};var C,S,D;d.parameters={...d.parameters,docs:{...(C=d.parameters)==null?void 0:C.docs,source:{originalSource:`{
  args: {
    documents: enhancedMockDocs,
    className: 'h-[600px]'
  }
}`,...(D=(S=d.parameters)==null?void 0:S.docs)==null?void 0:D.source}}};var z,q,L;l.parameters={...l.parameters,docs:{...(z=l.parameters)==null?void 0:z.docs,source:{originalSource:`{
  args: {
    documents: [],
    className: 'h-[600px]'
  }
}`,...(L=(q=l.parameters)==null?void 0:q.docs)==null?void 0:L.source}}};var E,T,F;m.parameters={...m.parameters,docs:{...(E=m.parameters)==null?void 0:E.docs,source:{originalSource:`{
  render: () => <div className="h-[600px] p-6">
      <SkeletonCards count={6} />
    </div>
}`,...(F=(T=m.parameters)==null?void 0:T.docs)==null?void 0:F.source}}};var R,I,_;p.parameters={...p.parameters,docs:{...(R=p.parameters)==null?void 0:R.docs,source:{originalSource:`{
  render: () => <div className="h-[600px] p-6">
      <EmptyState {...emptyStates.error('Failed to load documents')} />
    </div>
}`,...(_=(I=p.parameters)==null?void 0:I.docs)==null?void 0:_.source}}};var U,H,V;h.parameters={...h.parameters,docs:{...(U=h.parameters)==null?void 0:U.docs,source:{originalSource:`{
  render: () => <div dir="rtl" className="h-[600px] p-6">
      <DocumentRepository documents={enhancedMockDocs} />
    </div>,
  parameters: {
    test: {
      disable: true
    }
  }
}`,...(V=(H=h.parameters)==null?void 0:H.docs)==null?void 0:V.source}}};const es=["Default","Empty","Loading","Error","RTL"];export{d as Default,l as Empty,p as Error,m as Loading,h as RTL,es as __namedExportsOrder,$e as default};
