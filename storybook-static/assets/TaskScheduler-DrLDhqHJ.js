import{j as e}from"./jsx-runtime-DF2Pcvd1.js";import{r as v}from"./index-B2-qRKKC.js";import{B as N}from"./button-Cpm3eO9b.js";import{C as w,a as b,b as y,d as T}from"./card-DDgMyP-I.js";import{A as C,a as _,b as D}from"./avatar-CKOC-HN5.js";import{B as c}from"./badge-BlxpgidI.js";import{T as A,a as M,b as d}from"./tabs-BcAn1uNm.js";import{S as k}from"./scroll-area-BZ8Y1bzI.js";import{c as r}from"./utils-CytzSlOG.js";import{c as q,t as I,a as S}from"./subDays-CJp_3fXz.js";import{i as h}from"./isSameDay-C8Ze1vER.js";import{C as B}from"./clock-OHWEuncF.js";import{P as L}from"./plus-B4oY7sqh.js";import{C as P}from"./circle-check-CWSHkN_P.js";import{C as E}from"./calendar-B5drNOPx.js";import{c as F}from"./createLucideIcon-DapQ2WKf.js";import{f as z}from"./format-C2JJGG0e.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=F("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);function g(s){return q(s,Date.now())}function m(s){return+I(s)<Date.now()}function u(s){return h(s,g(s))}function O(s){return h(s,S(g(s),1))}const R=s=>{switch(s){case"high":return"text-red-600 bg-red-50 border-red-200";case"medium":return"text-orange-600 bg-orange-50 border-orange-200";case"low":return"text-blue-600 bg-blue-50 border-blue-200";default:return"text-slate-600 bg-slate-50 border-slate-200"}},l=({task:s,onComplete:a})=>e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white border rounded-lg hover:shadow-sm transition-shadow group",children:[e.jsx("button",{onClick:()=>a==null?void 0:a(s.id),"aria-label":s.status==="completed"?"Mark as incomplete":"Mark as complete",className:r("mt-0.5 h-5 w-5 rounded-full border-2 flex items-center justify-center transition-colors",s.status==="completed"?"bg-green-500 border-green-500 text-white":"border-slate-300 hover:border-green-500 text-transparent hover:text-green-500"),children:e.jsx(P,{className:"h-3.5 w-3.5"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsx("span",{className:r("font-medium text-sm",s.status==="completed"&&"line-through text-muted-foreground"),children:s.title}),e.jsx(c,{variant:"outline",className:r("text-[10px] uppercase h-5",R(s.priority)),children:s.priority})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3 mt-2 text-xs text-muted-foreground",children:[e.jsxs("div",{className:r("flex items-center gap-1",s.status!=="completed"&&m(new Date(s.due_date))&&!u(new Date(s.due_date))&&"text-red-600 font-medium"),children:[e.jsx(E,{className:"h-3.5 w-3.5"}),u(new Date(s.due_date))?"Today":O(new Date(s.due_date))?"Tomorrow":z(new Date(s.due_date),"MMM d, h:mm a")]}),s.assigned_to&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsxs(C,{className:"h-4 w-4",children:[e.jsx(_,{src:s.assigned_to.avatar}),e.jsx(D,{className:"text-[8px]",children:s.assigned_to.name[0]})]}),e.jsx("span",{children:s.assigned_to.name})]}),s.related_to&&e.jsxs("div",{className:"flex items-center gap-1 text-blue-600 bg-blue-50 px-1.5 py-0.5 rounded",children:[e.jsx(H,{className:"h-3 w-3"}),e.jsx("span",{className:"truncate max-w-[120px]",children:s.related_to.name})]})]})]})]});function U({tasks:s,onAddTask:a,onCompleteTask:p,className:f}){const[n,j]=v.useState("upcoming"),i=s.filter(t=>t.status!=="completed"&&!m(new Date(t.due_date))),o=s.filter(t=>t.status==="overdue"||t.status!=="completed"&&m(new Date(t.due_date))&&!u(new Date(t.due_date))),x=s.filter(t=>t.status==="completed");return e.jsxs(w,{className:r("h-full flex flex-col",f),children:[e.jsxs(b,{className:"flex flex-row items-center justify-between pb-2 space-y-0",children:[e.jsxs(y,{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(B,{className:"h-5 w-5 text-primary"}),"Tasks"]}),e.jsxs(N,{size:"sm",onClick:a,children:[e.jsx(L,{className:"h-4 w-4 mr-2"}),"New Task"]})]}),e.jsx("div",{className:"px-6",children:e.jsx(A,{value:n,onValueChange:j,className:"w-full",children:e.jsxs(M,{className:"grid w-full grid-cols-3",children:[e.jsxs(d,{value:"upcoming",children:["Upcoming",e.jsx(c,{variant:"secondary",className:"ml-2 bg-slate-200 text-slate-700",children:i.length})]}),e.jsxs(d,{value:"overdue",children:["Overdue",o.length>0&&e.jsx(c,{variant:"destructive",className:"ml-2",children:o.length})]}),e.jsx(d,{value:"completed",children:"Completed"})]})})}),e.jsx(T,{className:"flex-1 pt-4 min-h-0",children:e.jsx(k,{className:"h-[400px] pr-4",children:e.jsxs("div",{className:"space-y-3",children:[n==="upcoming"&&(i.length>0?i.map(t=>e.jsx(l,{task:t,onComplete:p},t.id)):e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No upcoming tasks"})),n==="overdue"&&(o.length>0?o.map(t=>e.jsx(l,{task:t,onComplete:p},t.id)):e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No overdue tasks"})),n==="completed"&&(x.length>0?x.map(t=>e.jsx(l,{task:t},t.id)):e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No completed tasks"}))]})})})]})}U.__docgenInfo={description:"",methods:[],displayName:"TaskScheduler",props:{tasks:{required:!0,tsType:{name:"Array",elements:[{name:"Task"}],raw:"Task[]"},description:""},onAddTask:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onCompleteTask:{required:!1,tsType:{name:"signature",type:"function",raw:"(taskId: string) => void",signature:{arguments:[{type:{name:"string"},name:"taskId"}],return:{name:"void"}}},description:""},className:{required:!1,tsType:{name:"string"},description:""}}};export{U as T};
