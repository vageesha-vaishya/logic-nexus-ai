import{R as s,r as _,a as j}from"./index-B2-qRKKC.js";import{c as L,u as P}from"./index-DRfMV7qj.js";import{u as E,a as v}from"./index-Bh3JKd2m.js";import{j as C}from"./jsx-runtime-DF2Pcvd1.js";function k(c){const l=c+"CollectionProvider",[u,f]=L(l),[A,m]=u(l,{collectionRef:{current:null},itemMap:new Map}),R=r=>{const{scope:e,children:i}=r,t=s.useRef(null),o=s.useRef(new Map).current;return C.jsx(A,{scope:e,itemMap:o,collectionRef:t,children:i})};R.displayName=l;const d=c+"CollectionSlot",N=v(d),I=s.forwardRef((r,e)=>{const{scope:i,children:t}=r,o=m(d,i),n=E(e,o.collectionRef);return C.jsx(N,{ref:n,children:t})});I.displayName=d;const p=c+"CollectionItemSlot",x="data-radix-collection-item",T=v(p),S=s.forwardRef((r,e)=>{const{scope:i,children:t,...o}=r,n=s.useRef(null),M=E(e,n),a=m(p,i);return s.useEffect(()=>(a.itemMap.set(n,{ref:n,...o}),()=>void a.itemMap.delete(n))),C.jsx(T,{[x]:"",ref:M,children:t})});S.displayName=p;function y(r){const e=m(c+"CollectionConsumer",r);return s.useCallback(()=>{const t=e.collectionRef.current;if(!t)return[];const o=Array.from(t.querySelectorAll(`[${x}]`));return Array.from(e.itemMap.values()).sort((a,O)=>o.indexOf(a.ref.current)-o.indexOf(O.ref.current))},[e.collectionRef,e.itemMap])}return[{Provider:R,Slot:I,ItemSlot:S},y,f]}var g=j[" useId ".trim().toString()]||(()=>{}),w=0;function q(c){const[l,u]=_.useState(g());return P(()=>{u(f=>f??String(w++))},[c]),c||(l?`radix-${l}`:"")}export{k as c,q as u};
